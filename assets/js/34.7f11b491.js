(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{423:function(e,t,a){"use strict";a.r(t);var s=a(11),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"snaps-development-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#snaps-development-guide"}},[e._v("#")]),e._v(" Snaps Development Guide")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("üõ†Ô∏è Under Construction üõ†Ô∏è")]),e._v(" "),a("p",[e._v("This page is under construction.")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Only Available in MetaMask Flask")]),e._v(" "),a("p",[e._v("Snaps is only available in "),a("a",{attrs:{href:"https://metamask.io/flask",target:"_blank",rel:"noopener noreferrer"}},[e._v("MetaMask Flask"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Feature Requests")]),e._v(" "),a("p",[e._v("Do you have feature requests? Other ideas? We'd love to hear about them! "),a("a",{attrs:{href:"https://community.metamask.io/c/metamask-flask",target:"_blank",rel:"noopener noreferrer"}},[e._v("Click here"),a("OutboundLink")],1),e._v(" to join the discussion.")])]),e._v(" "),a("p",[e._v("Developing Snaps is much like developing any JavaScript project, but there are some things that may be new even to a seasoned developer.\nThis guide is currently under construction, but will expand in the coming days to thoroughly cover the ins and outs of snap development.")]),e._v(" "),a("h2",{attrs:{id:"resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[e._v("#")]),e._v(" Resources")]),e._v(" "),a("p",[e._v("To get started with Snaps, you first have to download "),a("a",{attrs:{href:"https://metamask.io/flask",target:"_blank",rel:"noopener noreferrer"}},[e._v("MetaMask Flask"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("While this guide is under construction, we "),a("strong",[e._v("highly recommend")]),e._v(" consulting the "),a("a",{attrs:{href:"https://www.npmjs.com/package/@metamask/snaps-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("readme of "),a("code",[e._v("@metamask/snaps-cli")]),a("OutboundLink")],1),e._v(", the command line utility we created to help with snap development.")]),e._v(" "),a("p",[e._v("In addition, you can review the growing number of "),a("a",{attrs:{href:"https://github.com/MetaMask/snaps-skunkworks/tree/main/packages/snap-examples",target:"_blank",rel:"noopener noreferrer"}},[e._v("example snaps"),a("OutboundLink")],1),e._v(" maintained by MetaMask.")]),e._v(" "),a("p",[e._v("Finally, you may wish to check out the first functional key management snap ever made, "),a("a",{attrs:{href:"https://github.com/Chainsafe/filsnap/",target:"_blank",rel:"noopener noreferrer"}},[e._v("the Filecoin Snap, or "),a("code",[e._v("filsnap")]),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"gotchas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gotchas"}},[e._v("#")]),e._v(" Gotchas")]),e._v(" "),a("h3",{attrs:{id:"accessing-the-internet-in-a-snap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accessing-the-internet-in-a-snap"}},[e._v("#")]),e._v(" Accessing the Internet in a Snap")]),e._v(" "),a("p",[e._v("Snaps do not get access to any sensitive APIs or features by default, and Internet access is no exception to that rule.\nTo access the Internet, you must be specify the permission "),a("code",[e._v("endowment:network-access")]),e._v(" in the "),a("code",[e._v("initialPermissions")]),e._v(" of your "),a("code",[e._v("snap.manifest.json")]),e._v(" file.\nThis will grant you access to the global "),a("code",[e._v("fetch")]),e._v(" API.\nOther global network APIs may be made available in the future.")]),e._v(" "),a("h3",{attrs:{id:"writing-ses-compatible-javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#writing-ses-compatible-javascript"}},[e._v("#")]),e._v(" Writing SES-Compatible JavaScript")]),e._v(" "),a("p",[e._v("Snaps is implemented using Secure EcmaScript, or "),a("a",{attrs:{href:"https://github.com/endojs/endo/tree/master/packages/ses",target:"_blank",rel:"noopener noreferrer"}},[e._v("SES"),a("OutboundLink")],1),e._v(", effectively a subset of the JavaScript language designed to enable mutually suspicious programs to execute in the same JavaScript process (or more accurately, the same "),a("a",{attrs:{href:"https://tc39.es/ecma262/#realm",target:"_blank",rel:"noopener noreferrer"}},[e._v("realm"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("p",[e._v("For present purposes, the important thing to understand is that, because SES is effectively a subset of JavaScript, you may write - or more likely, import - code that does not execute under SES.\n"),a("a",{attrs:{href:"https://www.npmjs.com/package/@metamask/snaps-cli",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("@metamask/snaps-cli")]),a("OutboundLink")],1),e._v(" will attempt to fix some such issues for you via the "),a("code",[e._v("mm-snap build")]),e._v(" command, but it can't fix them all.")]),e._v(" "),a("p",[e._v("When "),a("code",[e._v("mm-snap build")]),e._v(" fails during the "),a("code",[e._v("eval")]),e._v(" step (you can also directly execute a built snap using "),a("code",[e._v("mm-snap eval")]),e._v("), you have to attempt to fix the issue manually.\nIf the problem is in a dependency, you can try a different version or make use of tools such as "),a("a",{attrs:{href:"https://npmjs.com/package/patch-package",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("patch-package")]),a("OutboundLink")],1),e._v(" to fix the issue locally yourself.")]),e._v(" "),a("p",[e._v("If you're still stuck, you can ask for help "),a("a",{attrs:{href:"https://community.metamask.io/c/metamask-flask",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);t.default=n.exports}}]);